操作文件的时候手贱了，怎么用git恢复？



我们在使用git的过程当中很难避免的一点就是手贱，因为人嘛总有犯错疏忽的时候，有时候一不小心就操作错了。我也经常遇到这种情况，所以这时候对git的了解和掌握就非常重要，即使操作错了，我们也可以通过git还原到我们希望它变成的状态。下面我们来看几个例子，来实际体验一下git的强大。



## 不小心add错了



这是一个非常非常容易出现的问题，我自己也经常遇到。有时候编译出了二进制文件，明明知道是不应该添加进git管理的。因为添加进来之后会使得整个repo变得非常大，别人clone和pull都非常费劲。而且前面也说过了，一旦commit之后，即使你删除了，这份文件依然还是会保存在git仓库当中。



所以如果我们发现不小心把一个我们的测试文件也一起add进来了，我们commit了之后才发现。这个时候应该怎么办？



我们来实际操作一下，比如我们创建了一个叫做a.test的文件用来测试。结果测试完成之后忘记了删除，在添加的时候直接使用了git add .，在下图当中我们可以看到git status当中有一个new file的log，表明我们新建了一个a.test文件，并且已经添加到暂存区了。

![](https://tva1.sinaimg.cn/large/007S8ZIlgy1giz406qlgaj31d60esdj8.jpg)



我们要做的就是把它删除，有人会说我们直接rm -rf删除不行吗？我们试试看就知道了。



![](https://tva1.sinaimg.cn/large/007S8ZIlgy1giz4hgfuldj31ba0b4tas.jpg)

